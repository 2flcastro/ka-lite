{% extends "central/base.html" %}

{% load i18n %}
{% load my_filters %}
{% load staticfiles %}

{% block title %}{% trans "Installation" %}{% endblock %}

{% block install_active %}active{% endblock install_active %}

{% block headcss %}{{ block.super }}
<style>
    select { 
        width:200px;
    }
    #instructions {
        font-size:12pt;
        margin-left: 10px;
        margin-top: 20px;
    }
    ul {
        margin-top:5px;
    }

    h2{
        font-size: 33px;
        margin-left: 200px;
    }

    h4{
        font-size: 16px;
    }

    #python-instructions {
        margin-top:25px;
    }

    .basic-form label{
        width: auto;
        clear: both;
        font-weight: normal;
    }

    .form-label {
        float: left;
        color: #678D00;
        /*text-align: right;*/
        padding-right: 6px;
        width: 250px;
    }

    .form-section {
        width: 100%;
        text-align:left;
        float: left;
        margin-bottom:5px;
    }

    #submit-section{
        margin-left: 60px;
        padding-bottom: 30px;
    }
    .information{
        font-size: 13px;
        color: #666;
        margin-top: -10px;
        margin-bottom: 20px;
    }

    .suggestion{
        clear: both;
        margin-left: 30px;
        font-size: 13px;
        color: #666;
    }

    .internet-suggestion{
        clear: both;
        margin-left: 30px;
        margin-top: -5px;
        font-size: 13px;
        color: orange;
    }
    .asterisk{
        color: orange;
        display: none;
    }


    select{
        margin-left: 15px;
        margin-top: 5px;
    }

    .radio{
        margin-left: 15px;
    }

    .radio-selections{
        margin-top: 11px;
        display: inline-block;
        position: relative;
    }


    #user-registration-info,
    #internet-info,
    #linux-instructions,
    #darwin-instructions,
    /*#platform-section,*/
    /*#submit-section,*/
    #internet-section,
    #install-form {
        display:nonee;
    }

    #internet-info,
    #user-registration-info {
        font-weight:bold;
        color:red;
    }


    .instructions{
        margin-left: 200px;
    }
    .download-buttons{
        margin-bottom: 5px;

    }
    #submit-section{
        display: nonee;
    }
    .features{
        margin-left: 290px;
        margin-bottom: 50px;
        color: green;
        font-size: 14px;
    }

    #platform-section{
        margin-left: 10px;
    }
    #platform{
        margin-left: -170px;
    }
</style>
{% endblock headcss %}

{% block content %}
    {% comment "Header instructions" %}{% endcomment %}
    <div class="installation">
        <h2>Installation</h2>

        <form name="test" method="post" class="basic-form">
        {% csrf_token %} 

        <div class="download-buttons">
            {% if edition == "single-server" or not edition %}
            <button class="btn btn-large btn-primary" type="button" onclick="javascript:window.location.href='single-server/'">
                Download Single-server Edition
            </button>
            {% endif %}
            {% if edition == "multiple-server" or not edition %}
            <button class="btn btn-large btn-success" type="button" onclick="javascript:window.location.href='single-server/'">
                {% if user.is_anonymous %}
                    Login to get Multiple-servers Edition
                {% else %}
                    Download Multiple-servers Edition
                {% endif %}
                &gt;
            </button>
            {% endif %}
        </div>

        <div class="features">
            <ul>
                <li>Generate a customerized package for your organization </li>
                <li>View usage data online through this website</li>
                <li>Share students and teachers data across multiple installs</li>
            </ul>
        </div>
    </div>

    {% comment "Form for downloading KALite is accessible only to authenticatd users" %}{% endcomment %}
    {% if edition == "multiple-server" or True %}
    ben
    <div id="install-form">
        <div class="errors">{% for err in errors %}{{ err }}{% endfor %}</div>
            <div class="form-section" id="select_organization">
                <div class="form-label"><h4>{% trans "Select Organization:" %}</h4></div>
                <div class="form-selection">
                    <select name="organization" id="organization">
                            {% for org in organizations %}
                            <option value="{{ org.id }}" {% if selected_organization.id == org.id %}selected{% endif %}>{{ org }}</option>
                            {% endfor %}
                    </select>
                </div>
            </div>
        
            {% if selected_organization %}
            boo {{ selected_zone }}
            <div class="form-section" id="select_zone">
                <div class="form-label"><h4>{% trans "Select Zone:" %}</h4></div>
                <div class="form-selection">
                    <select name="zone" id="zone">
                        <option disabled="disabled" value="__empty__" {% if not selected_zone %}selected{% endif %}>--select your zone--</option>
                        {% for zone in zones %}
                        <option value="{{ zone.id }}"{% if selected_zone.id == zone.id %}selected{% endif %}>{{ zone }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="form-section" id="submit-section">
            <div class="form-label">&nbsp;</div>
            <div class="form-selection">
                <button type="submit" class="btn" {% if not selected_zone %}disabled="disabled"{% endif %}>Download!</button>
            </div>
    </div>
    {% endif %}
    </form>

    <div id="instructions" style="display:none">
        <div id="windows-instructions">
            Windows installation instructions:
            <ul>
                <li>Click "download" to download the Windows installer</li>
                <li>When the download completes, copy the file to your server(s).
                <li>From the server(s), unzip the zip file.</li>
                <li>From the server(s), double-click the install.bat script (inside the ka-lite folder).</li>
                <li>After installation completes, double-click the start.bat script (inside the ka-lite folder) .</li>
            </ul>                
        </div>
        <div id="linux-instructions">
            Linux installation instructions:
            <ul>
                <li>Click "download" to download  the KA Lite zip file.</li>
                <li>When the download completes, copy the file to your server(s).</li>
                <li>From the server(s), unzip the zip file.</li>
                <li>From the server(s), run the install.sh script (inside the ka-lite folder).</li>
                <li>From the server(s), run the start.sh script (inside the ka-lite folder).</li>
            </ul>
        </div>
        <div id="darwin-instructions">
            Mac installation instructions:
            <ul>
                <li>Click "download" to download  the KA Lite zip file.</li>
                <li>When the download completes, copy the file to your server(s).</li>
                <li>From the server(s), unzip the zip file.</li>
                <li>From the server(s), run the install.sh script (inside the ka-lite folder).</li>
                <li>From the server(s), run the start.sh script (inside the ka-lite folder).</li>
            </ul>
        </div>
        <div id="python-instructions">
            Python - this is the program that runs KA Lite; please install as well!
            <ul>
                <li><a target="_new" href="http://www.python.org/getit/releases/2.7.5/#download">Download Python</a>.</li>
                <li>Copy the Python installer over to your server.</li>
                <li>Install Python</li>
                <li>Make sure to add Python to your PATH (<a target="_new" href="https://www.google.com/search?q=add+python+to+path+tutorial+windows">Windows</a>, <a target="_new" href="https://www.google.com/search?q=add+python+to+path+tutorial+linux">Linux</a>, <a target="_new" href="https://www.google.com/search?q=add+python+to+path+tutorial+mac">MacOS</a>)</li>
        </div>  
    </div>
{% endblock %}
