{% extends "coachreports/base.html" %}
{% load i18n %}
{% load staticfiles %}
{% load my_filters %}

{% block coachreports_active %}{% endblock coachreports_active %}
{% block selfreports_active %}active{% endblock selfreports_active %}

{% block title %}{% trans "User report" %} {{ block.super }}{% endblock title%}
{% block report_title %}{% trans "User report" %}{% endblock report_title %}

{% block headcss %}{{ block.super }}
    <style>
        table, th, td {
            border: 1px solid black;
        }
        .super-header {
            background-color: #ccc;
            font-weight: bold;
        }
        th {
            color: #555;
        }
        th, td {
            padding: 3px;
        }
        div.invisible {
            display:none;
        }
        td.pct, td.float, td.int, td.date {
            text-align: right;
        }
        td.date { border: 0px; }
        td.struggling {
            background-color: #aa0;
            font-weight: bold;
        }
        .table-title {
            margin-bottom: 15px;
        }
        .column {
            height: 10%;
			width: 30%;
			float: left;
			margin-bottom: 20%;
			text-align: center;
        }  
        .completed {
            width:20px;
            height:20px;
            border-radius: 50%/50%;
            background:#338533;
            float: left;
            margin-left: 5%;
        }
        .inprogress {
            width:20px;
            height:20px;
            border-radius: 50%/50%;
            background:#B2D1B2;
            float: left;
            margin-left: 5%;
        }
        .inprogress2 {
            width:20px;
            height:20px;
            border-radius: 50%/50%;
            background:#B2D1B2;
            float: left;
            margin-left: 5%;
        }
        .struggling {
            width:20px;
            height:20px;
            border-radius: 50%/50%;
            background:#FFCCCC;
            float: left;
            margin-left: 5%;
        }
        .box1 {
            width: 250px;
            height: 200px;
            border: 3px solid #338533;
        }
        .box2 {
        	width: 250px;
            height: 200px;
            border: 3px solid #B2D1B2;
        }
        .box3 {
        	width: 250px;
            height: 200px;
            border: 3px solid #B2D1B2;
        }
        .box4 {
        	width: 250px;
            height: 200px;
            border: 3px solid #FFCCCC;
        }
        
    </style>
{% endblock headcss %}

{% block navbar_topics %}{% endblock navbar_topics %}
{% block navbar_makelink %}{% endblock navbar_makelink %}
{% block navbar_facilities %}{% endblock %}
{% block navbar_groups %}
    {% block navbar_user %}
    {% if student %}
    <div id="select-user" class="selection">
        <span id="user">{{ student.get_name }}</span>
    </div>
    {% endif %}
    {% endblock navbar_user %}
{% endblock navbar_groups %}

{% block content %}
    {% block navbar %}{{ block.super }}{% endblock navbar %}

    {% block student_report %}
    <!-- {% blocktrans %}Last login time: {{ last_login_time }}{% endblocktrans %}-->

    {% if no_data %}
        {% if request.is_admin or is_central %}
            {% trans "No data for this user." %}
        {% else %}
            {% trans "Welcome to KA Lite!" %}
            {% trans "Please return to this page after watching videos or practicing exercises." %}
        {% endif %}
    {% else %}
    <h2 class="table-title">{% trans "Mastery of Topics" %}</h2>

    {% for topic in topics %}
        <div class=" column {% if exercise_logs|get_item:topic.id or video_logs|get_item:topic.id%}visible{% else %}invisible{% endif %}"> 
                <span title="{% trans topic.description %}">
                    {% if not is_central %}
                        <a href="{{ topic.path }}">{% trans topic.title %}</a>
                    {% else %}
                        {% trans topic.title %}
                    {% endif %}
                </span>
            <br>
            {% for def in stat_defs %}
            <span class=" {{ def.type }}{% if def.key == 'total_struggling' and stats|get_item:topic.id|get_item:def.key > 0 %} struggling{% endif %}">
                {% if def.type == "date" %}
                    {{ stats|get_item:topic.id|get_item:def.key|date:"SHORT_DATE_FORMAT" }}
                {% endif %}
            </span>
            {% endfor %}
         
            <br>
            <br>
           
            
            <div class = "completed"> </div>
            <div class = "inprogress"> </div>
            <div class = "inprogress2"> </div>
            <div class = "struggling"> </div>
            
            <br>
            <br>
            
         <!--    <div class = "box1">
             <h5>Adding Two-Digit Numbers </h5>
             <br> Mastered
             <br>
             <br> Completed Exercises
             <br>
             <br> Watched Videos
            </div>
            
            <br>
            
            <div class = "box2">
             <h5>Adding Two-Digit Numbers </h5>
             <br>In Progress
             <br>
             <br>Exercises in Progress
             <br> 
             <br>Videos in Progress
            </div>
            
            <br>
            
            <div class = "box3">
             <h5> Adding Two-Digit Numbers </h5>
             <br> In Progress
             <br>
             <br> No exercises currently in progress!
             <br> Start next exercise!
             <br>
             <br> No videos currently being watched!
             <br> Watch the next video!
            </div>
            
            <br>
            
            <div class = "box4">
             <h5> Borrowing </h5>
             <br> Struggling
             <br>
             <br> You are currently struggling in these exercises!
             <br> Watch related videos.
            </div>
            -->
        </div>

        <div>
            
        </div>
        
    {% endfor %}
    {% endif %}
<script>
$(function() {

	//console.log("HERE!");
	//alert("THERE!");
	$(".completed").click(function(){alert("Completed Tool Tip")})
	$(".inprogress").click(function(){alert("InProgress1 Tool Tip")})
	$(".inprogress2").click(function(){alert("InProgress2 Tool Tip")})
	$(".struggling").click(function(){alert("Struggling Tool Tip")})
	

})
</script>
    {% endblock student_report %}
{% endblock content %}
