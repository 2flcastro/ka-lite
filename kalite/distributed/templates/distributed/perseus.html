{% extends base_template %}
{% load i18n %}
{% load kalite_staticfiles %}

{% block practice_active %}active{% endblock practice_active %}

{% block headcss %}{{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'khan-exercises/css/khan-exercise.css' True %}">

    <!-- Used by KA to dynamically add styling to the exercise -->
    <style id="exercise-inline-style"></style>

    <link rel="stylesheet" type="text/css" href="{% static "perseus/lib/katex/fonts/fonts.css" %}" />
    <link rel="stylesheet/less" type="text/css" href="{% static "perseus/lib/katex/katex.less" %}" />
    <link rel="stylesheet" type="text/css" href="{% static "perseus/lib/mathquill/mathquill.css" %}" />

    <link rel="stylesheet/less" type="text/css" href="{% static "perseus/stylesheets/exercise-content-package/perseus.less" %}" />

{% endblock headcss %}

{% block headjs %}{{ block.super }}

    <script src="{% static "perseus/lib/es5-shim.js" %}"></script>
    <script src="{% static "perseus/lib/marked.js" %}"></script>
    <script src="{% static "perseus/lib/react-with-addons.js" %}"></script>
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML-full&amp;delayStartupUntil=configured"></script>
    <script src="{% static "perseus/lib/katex/katex.js" %}"></script>
    <script src="{% static "perseus/lib/mathquill/mathquill.js" %}"></script>
    <script src="{% static "perseus/lib/kas.js" %}"></script>

    <script>
        var KhanUtil = {
            debugLog: function() {}
        };
        var Khan = {
            Util: KhanUtil,
            error: function() {},
            query: {debug: ""},
            imageBase: "{% static "perseus/ke/images/" %}",
            scratchpad: {
                disable: function() {},
                enable: function() {}
            }
        };
        React.initializeTouchEvents(true);
    </script>

    <script src="{% static "perseus/ke/local-only/jed.js" %}"></script>
    <script src="{% static "perseus/ke/local-only/i18n.js" %}"></script>
    <script src="{% static "perseus/ke/local-only/jquery.qtip.js" %}"></script>
    <script src="{% static "perseus/ke/exercises-stub.js" %}"></script>
    <script src="{% static "perseus/ke/local-only/require.js" %}"></script>

    <script>

        var item_data = {
            "question": {
                "content": "Hi there! [[â˜ƒ interactive-graph 2]]",
                "images": {
                    "https://ka-perseus-graphie.s3.amazonaws.com/da8df81c78b22f5c69d477d8eabfb583968eaf84.png": {
                        "width": 400,
                        "height": 70
                    },
                    "https://ka-perseus-graphie.s3.amazonaws.com/b59fc02ca1aae800977b8793ed22f647a1aa75ee.png": {
                        "width": 425,
                        "height": 150
                    }
                },
                "widgets": {
                    "interactive-graph 2": {
                        "type": "interactive-graph",
                        "graded": true,
                        "options": {
                            "step": [
                                2,
                                2
                            ],
                            "backgroundImage": {
                                "url": null,
                                "scale": 1,
                                "bottom": 0,
                                "left": 0
                            },
                            "markings": "graph",
                            "labels": [
                                "x",
                                "y"
                            ],
                            "showProtractor": false,
                            "showRuler": false,
                            "rulerLabel": "",
                            "rulerTicks": 10,
                            "range": [
                                [
                                    -20,
                                    20
                                ],
                                [
                                    -20,
                                    20
                                ]
                            ],
                            "graph": {
                                "type": "linear"
                            },
                            "correct": {
                                "type": "linear",
                                "coords": [
                                    [
                                        0,
                                        0
                                    ],
                                    [
                                        5,
                                        5
                                    ]
                                ]
                            }
                        },
                        "version": {
                            "major": 0,
                            "minor": 0
                        }
                    }
                }
            },
            "answerArea": {
                "type": "multiple",
                "options": {
                    "content": "",
                    "images": {},
                    "widgets": {}
                },
                "calculator": false
            },
            "itemDataVersion": {
                "major": 0,
                "minor": 1
            },
            "hints": []
        };

        var item_data = {"answerArea": {"calculator": false, "type": "multiple", "options": {"content": "Answer to left.", "images": {}, "widgets": {}}}, "question": {"content": "Given the polar curve $~r=3\\cos(2\\theta)~$ for $~\\theta \\in \\left[ 0,2\\pi  \\right)\\,$, determine which of the following lines are tangent to the curve at the pole (the origin).\n\nLine equation|YES or NO\n:-:|:-:\n$y=x$|[[\u2603 dropdown 6]]\n$y=2x$|[[\u2603 dropdown 7]]\n$y=-x$|[[\u2603 dropdown 8]]\n$y=-2x$|[[\u2603 dropdown 9]]\n$y=0$|[[\u2603 dropdown 10]]\n", "images": {}, "widgets": {"dropdown 10": {"type": "dropdown", "graded": true, "options": {"placeholder": "Yes/No", "choices": [{"content": "Yes", "correct": false}, {"content": "No", "correct": true}]}}, "dropdown 7": {"type": "dropdown", "graded": true, "options": {"placeholder": "Yes/No", "choices": [{"content": "Yes", "correct": false}, {"content": "No", "correct": true}]}}, "dropdown 6": {"type": "dropdown", "graded": true, "options": {"placeholder": "Yes/No", "choices": [{"content": "Yes", "correct": true}, {"content": "No", "correct": false}]}}, "dropdown 9": {"type": "dropdown", "graded": true, "options": {"placeholder": "Yes/No", "choices": [{"content": "Yes", "correct": false}, {"content": "No", "correct": true}]}}, "dropdown 8": {"type": "dropdown", "graded": true, "options": {"placeholder": "Yes/No", "choices": [{"content": "Yes", "correct": true}, {"content": "No", "correct": false}]}}}}, "hints": [{"content": "First we determine the values of $~\\theta \\in \\left[ 0,2\\pi  \\right)~$ at which the curve passes through the pole by setting $~r=0\\,$.\n\n $\\qquad3\\cos(2\\theta)=0$\n\n$\\qquad\\qquad\\quad~2\\theta=\\displaystyle\\frac{\\pi}{2}+\\pi k~$, where $~k\\in \\mathbb{Z}$\n\n$\\qquad\\qquad\\quad~~~\\theta=\\displaystyle\\frac{\\pi}{4}+\\displaystyle\\frac{\\pi}{2}k~$, where $~k\\in \\mathbb{Z}$\n\n$~~~\\quad\\qquad\\qquad\\theta=\\displaystyle\\frac{\\pi}{4}~~$ or $~~\\theta=\\displaystyle\\frac{3\\pi}{4}~~$ or $~~\\theta=\\displaystyle\\frac{5\\pi}{4}~~$ or $~~\\theta=\\displaystyle\\frac{7\\pi}{4}$", "images": {}, "widgets": {}}, {"content": "Next we will need to find the slopes of the tangent lines to the curve at these values of $~\\theta\\,$.  \n\nWe could go through the long, involved process of calculating  $~\\displaystyle\\frac{dy}{dx}~$ for the curve, using both $~\\dfrac{dy}{d\\theta}~$ and $~\\dfrac{dx}{d\\theta}\\,$. However, there is a **much** easier way to find the slope of the tangent line when the point in question is the pole.\n\nSince the values of $~\\theta~$ in question are $~\\theta=\\dfrac{n\\pi}{4}~$ where $~n=1\\,,~3\\,,~5\\,,~\\text{or}~7\\,$, we know that the lines $~r=\\dfrac\\pi4\\,,~r=\\dfrac{3\\pi}{4}\\,,~r=\\dfrac{5\\pi}{4}\\,,~\\text{and}~r=\\dfrac{7\\pi}{4}~$ are the tangent lines. The slopes of those lines are $~~\\tan\\dfrac\\pi4=1\\,$, $~~\\tan\\dfrac{3\\pi}4=-1\\,$, $~~\\tan\\dfrac{5\\pi}4=1\\,$, and $~~\\tan\\dfrac{7\\pi}4=-1\\,$, respectively.", "images": {}, "widgets": {}}, {"content": "Thus we find that the tangent lines to the curve $~r=3\\cos(2\\theta)~$ at the pole are the lines $~y=x~$ and  $~y=-x\\,$.", "images": {}, "widgets": {}}]};

        (function() {

        // Load khan-exercises modules, then perseus
        require(["{% static "perseus/ke-deps.js" %}"], function() {
            // pre built
            require(["{% static "perseus/build/perseus-1.js" %}"], initPerseus);
        });

        function initPerseus(Perseus) {

        Perseus.init({}).then(function() {

            window.exercise_practice_perseus_view = new ExercisePerseusView({
                el: $(".exercise-wrapper"),
                perseus_data: {

                }
            });

            var itemMountNode = document.createElement("div");
            zk = React.renderComponent(Perseus.ItemRenderer({
                item: item_data,
                problemNum: Math.floor(Math.random() * 50) + 1,
                initialHintsVisible: false, //&& item_data.hints && item_data.hints.length,
                enabledFeatures: {
                    highlight: true,
                    toolTipFormats: true
                }
            }, null), itemMountNode);
            zk.focus();

        }).then(function() {
            console.log("Perseus question rendered!", item_data);
        }, function(err) {
            console.error("Perseus question error!", err);
        });

        }

        })();
    </script>

    <script src="{% static 'js/distributed/software-keyboard.js' %}"></script>

    <script src="{% url 'handlebars_templates' module_name='exercise' %}"></script>

    <!-- Import below is for testing/debug purposes only. rtibbles to remove !-->
    <!-- // <script src="{% static 'js/seedrandom.min.js' %}"></script> -->

    <script src="{% static 'js/distributed/exercises.js' %}"></script>
    <script src="{% static 'js/distributed/exercises-perseus.js' %}"></script>
    <script src="{% static 'khan-exercises/khan-exercise.js' %}"></script>

{% endblock headjs %}

{% block content %}
    <div class="container">

        <div class="row">
            <div class="exercises-header">
                <div class="row col-xs-12">
                    {% if prev %}
                    <div class="vidprev"><a href="{{ prev.path }}">&lt; {% trans prev.title %} <span class="progress-circle" data-exercise-id="{{ prev.id }}"></span></a></div>
                    {% endif %}

                    {% if next %}
                    <div class="vidnext pull-right"><a href="{{ next.path }}"><span class="progress-circle" data-exercise-id="{{ next.id }}"></span> {% trans next.title %} &gt;</a></div>
                    {% endif %}
                </div>
            <div class="clear"></div>
        </div>
    </div>

    <div class="exercise-wrapper"></div>

{% endblock content %}
